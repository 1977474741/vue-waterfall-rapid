(function(e){function t(t){for(var n,c,o=t[0],a=t[1],l=t[2],u=0,m=[];u<o.length;u++)c=o[u],Object.prototype.hasOwnProperty.call(r,c)&&r[c]&&m.push(r[c][0]),r[c]=0;for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n]);g&&g(t);while(m.length)m.shift()();return s.push.apply(s,l||[]),i()}function i(){for(var e,t=0;t<s.length;t++){for(var i=s[t],n=!0,o=1;o<i.length;o++){var a=i[o];0!==r[a]&&(n=!1)}n&&(s.splice(t--,1),e=c(c.s=i[0]))}return e}var n={},r={app:0},s=[];function c(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,c),i.l=!0,i.exports}c.m=e,c.c=n,c.d=function(e,t,i){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(c.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)c.d(i,n,function(t){return e[t]}.bind(null,n));return i},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],a=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var g=a;s.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("cd49")},"21bb":function(e,t,i){"use strict";i("38d5")},"2bc0":function(e,t,i){},"38d5":function(e,t,i){},"5c0b":function(e,t,i){"use strict";i("ac27")},ac27:function(e,t,i){},c136:function(e,t,i){"use strict";i("2bc0")},cd49:function(e,t,i){"use strict";i.r(t);i("44a9"),i("3a99"),i("2c238"),i("6ae4");var n,r=i("a593"),s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"app"}},[i("router-view")],1)},c=[],o=(i("5c0b"),i("5d22")),a={},l=Object(o["a"])(a,s,c,!1,null,null,null),g=l.exports,u=i("a81e"),m=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"home"},[i("div",{staticClass:"header"},[i("p",{staticClass:"switch-container"},[i("button",{on:{click:e.modeFun}},[e._v(e._s(e.mode?"点击固定列宽":"点击固定三列"))]),i("button",{staticClass:"repaints",on:{click:e.repaints}},[e._v("点击手动重绘")]),i("button",{on:{click:e.add}},[e._v("添加元素")])]),i("p",{staticClass:"range-container"},[e._v(" 容器宽："),i("input",{directives:[{name:"model",rawName:"v-model",value:e.range,expression:"range"}],attrs:{type:"range",name:""},domProps:{value:e.range},on:{__r:function(t){e.range=t.target.value}}})]),i("p",{staticClass:"switch-container"},[i("label",[e._v(" 容器变化自动重绘 "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.autoResize,expression:"autoResize"}],staticClass:"switch",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.autoResize)?e._i(e.autoResize,null)>-1:e.autoResize},on:{change:function(t){var i=e.autoResize,n=t.target,r=!!n.checked;if(Array.isArray(i)){var s=null,c=e._i(i,s);n.checked?c<0&&(e.autoResize=i.concat([s])):c>-1&&(e.autoResize=i.slice(0,c).concat(i.slice(c+1)))}else e.autoResize=r}}})]),i("label",[e._v(" 始终填满容器 "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.fillBox,expression:"fillBox"}],staticClass:"switch",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.fillBox)?e._i(e.fillBox,null)>-1:e.fillBox},on:{change:function(t){var i=e.fillBox,n=t.target,r=!!n.checked;if(Array.isArray(i)){var s=null,c=e._i(i,s);n.checked?c<0&&(e.fillBox=i.concat([s])):c>-1&&(e.fillBox=i.slice(0,c).concat(i.slice(c+1)))}else e.fillBox=r}}})])])]),i("div",{staticClass:"main",style:{width:e.width+"%"},on:{scroll:e.scroll}},[i("waterfall",{ref:"waterfall",attrs:{col:e.col,autoResize:e.autoResize,moveTransitionDuration:.4,fillBox:e.fillBox,"col-width":e.colWidth,list:e.list,imgKey:"src"},scopedSlots:e._u([{key:"default",fn:function(t){return i("div",{staticClass:"waterfall-item",class:{bounceIn:"show"==t.state}},[t.data.src?i("img",{staticClass:"waterfall-img",staticStyle:{width:"100%"},attrs:{src:t.data.src}}):e._e(),e._v(" "+e._s(t.index)+"-"+e._s(t.data.text)+" ")])}}])})],1)])},f=[],h=(i("ade2"),i("64b1"),i("fbb5"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"main",staticClass:"main",style:{height:e.maxH+"px"},attrs:{id:"main"}},[e._l(e.list,(function(t,n){return i("div",{ref:"item"+n,refInFor:!0,staticClass:"item",class:[e.moveMode,e.styleArr[n]&&e.styleArr[n].showClass],style:e.styleArr[n]},[e._t("default",null,{state:e.styleArr[n]&&e.styleArr[n].state||"loading",data:t,index:n})],2)})),e.autoResize?i("iframe",{ref:"autoExpand",staticClass:"autoExpand"}):e._e()],2)}),p=[],d=(i("af60"),i("8601"),i("737b"),i("5079"),i("7d72"),i("d319"),i("bc4a"),i("5f0e"),i("4460"),i("85a2"),i("960e"),i("1377")),b=i("28f8"),x=(i("6a61"),i("2e91")),y={},v=new Map,k=null,j={props:{list:{type:Array,default:function(){return[]}},imgKey:{type:String,default:"src"},col:{type:Number,default:0},colWidth:{type:Number,default:0},autoResize:{type:Boolean,default:!0},fillBox:{type:Boolean,default:!1},moveMode:{type:String,default:"transform"},moveTransitionDuration:{type:Number,default:.4}},data:function(){return{styleArr:[],colW:0,maxH:1,mainW:0,_col:0,__col:0,batchCB:null,onRender:null}},computed:{resizeDebounce:function(){return this.isTransition?this.debounce(this.resize,100):this.resize},isTransition:function(){return this.autoResize&&this.col<1}},mounted:function(){this.mainW=this.getWidth(),this.init(),this.polling()},watch:(n={},Object(b["a"])(n,"list.length",{deep:!1,handler:function(e,t){var i=this;return Object(x["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!(e>t)){n.next=4;break}return n.next=3,i.$nextTick();case 3:i.batchCB=i.initItem(t);case 4:case"end":return n.stop()}}),n)})))()}}),Object(b["a"])(n,"autoResize",{handler:function(e){var t=this;e&&setTimeout((function(){t.$refs.autoExpand.contentWindow.onresize=function(e){t.resizeDebounce()}}))},immediate:!0}),n),methods:{repaints:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1?arguments[1]:void 0;this.$nextTick((function(){e.mainW=e.getWidth(),e.calcCol(),e.calcXY(t,"repaints",i)}))},init:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.calcCol(),this.batchCB=this.initItem(e)},getWidth:function(){return(this.$refs.main.getBoundingClientRect()||{}).width||0},resize:function(){var e=arguments,t=this;return Object(x["a"])(regeneratorRuntime.mark((function i(){var n,r;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(n=e.length>0&&void 0!==e[0]?e[0]:0,t.$refs.main){i.next=3;break}return i.abrupt("return");case 3:if(r=t.getWidth(),r!=t.mainW){i.next=6;break}return i.abrupt("return");case 6:t.mainW=r,t.calcCol(),t.autoResize&&(t.fillBox||t.col||t.__col!=t._col)&&t.calcXY(n,"resize");case 9:case"end":return i.stop()}}),i)})))()},calcCol:function(){var e=3;return this.col?(e=this.col,this.colW=this.mainW/e):this.colWidth?(e=parseInt(this.mainW/this.colWidth)||1,this.mainW%this.colWidth&&this.fillBox?this.colW=this.mainW/e:this.colW=this.colWidth):this.colW=this.mainW/e,this.__col=e,e},polling:function(){clearInterval(k),k=setInterval((function(){var e,t=Object(d["a"])(v);try{for(t.s();!(e=t.n()).done;){var i=e.value,n=i[0];if(i=i[1],!(i.img.height>0||i.img.complete))return;i.cb(i.img),v["delete"](n)}}catch(r){t.e(r)}finally{t.f()}}),300)},initItem:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise((function(i,n){var r=e.list.slice(t),s=0;r.forEach((function(i,n){var c=n+t;e.loader(i[e.imgKey],(function(){s++,e.styleArr[c]||(e.styleArr[c]={}),e.styleArr[c].width=e.colW+"px",e.styleArr[c].complete=!0,e.styleArr[c].state="complete",e.$set(e.styleArr,c,e.styleArr[c]),s==r.length&&e.waitRender(t)}),e.getColDom(c).getElementsByClassName("waterfall-img")[0],n)}))}))},waitRender:function(e){for(var t=0;t<this.styleArr.length;t++)if(t<e&&(!this.styleArr[t]||!this.styleArr[t].complete))return;this.calcXY(e)},calcXY:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"data",n=arguments.length>2?arguments[2]:void 0,r=t;this._col=this.__col;for(var s=t;s<this.styleArr.length;s++)this.styleArr[s]&&(this.styleArr[s].width=this.colW+"px",this.styleArr[s].showClass&&(n||this.isTransition?this.styleArr[s]["transition-duration"]="".concat(n||this.moveTransitionDuration,"s"):this.styleArr[s].showClass&&(this.styleArr[s]["transition-duration"]="0s")));this.$nextTick((function(){for(var n=r;n<e.styleArr.length;n++){if(!e.styleArr[n])return;var s=e.getColDom(n);if(!s)return;e.styleArr[n].height=s.offsetHeight;var c=e.getMinCol(n),o=c.curTop,a=c.curCol,l=o+e.styleArr[n].height,g=c.maxH>l?c.maxH:l;"convention"==e.moveMode?(e.styleArr[n].left="".concat(a*e.colW,"px"),e.styleArr[n].top="".concat(o,"px")):e.styleArr[n].transform="translate3d(".concat(a*e.colW,"px, ").concat(o,"px ,0)"),e.maxH=g,e.styleArr[n].bottomTop=l,e.styleArr[n].col=a,e.styleArr[n].showClass="show",e.styleArr[n].state="show"}e.$forceUpdate(),e.$nextTick((function(){e.onRender&&e.onRender({cause:i,start:t})}))}))},getMinCol:function(e){if(!e)return{curCol:0,curTop:0,maxH:0};for(var t=0,i=0,n={},r=e-1;r>=0;r--){var s=this.styleArr[r];if(s&&!n[s.col]&&(n[s.col]=s),Object.keys(n).length==this.__col)break}var c=Object.values(n).sort((function(e,t){return e.bottomTop-t.bottomTop}));return e<this.__col?(t=e,i=0):(t=c[0].col,i=c[0].bottomTop),{curCol:t,curTop:i,maxH:c[c.length-1].bottomTop}},loader:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3?arguments[3]:void 0;if(i.height>0)return t(r);if(!e&&!i.src)return t();i.src&&(e=i.src);var r=y[e]&&y[e].img;if(r){if(r.complete||r.height>0)return t(r)}else{if(i.src?r=i:(r=new Image,r.src=e),r.complete||r.height>0)return t(r);y[e]={img:r,cbs:[],i:n},v.set(r.src,{img:r,cb:function(){y[e].cbs.forEach((function(e){return e()})),y[e].cbs.length=0}})}y[e].cbs.push(t)},getColDom:function(e){return this.$refs["item"+e][0]},debounce:function(e,t){var i;return function(){var n=this,r=arguments;i&&clearTimeout(i),i=setTimeout((function(){e.apply(n,r)}),t)}}}},w=j,_=(i("c136"),Object(o["a"])(w,h,p,!1,null,"d12e76ee",null)),z=_.exports,A=[{src:"https://game.gtimg.cn/images/yxzj/img201606/skin/hero-info/513/513-bigskin-4.jpg",text:"天狼绘梦者"},{src:"http://pic1.win4000.com/mobile/2020-06-17/5ee98fa463fe6.jpg",text:"天狼绘梦者"},{src:"//game.gtimg.cn/images/yxzj/img201606/skin/hero-info/513/513-bigskin-3.jpg",text:"梁祝"},{src:"http://p7.itc.cn/q_70/images03/20200622/2b25b41fa1934ef8a91e1c5cc401d018.jpeg",text:"天狼绘梦者"},{src:"http://5b0988e595225.cdn.sohucs.com/images/20190103/860efae1ce9a4199b62d5af873b3f396.jpeg",text:"修竹墨客"},{src:"",text:"兼容无图模式兼容无图模式兼容无图模式兼容无式"},{src:"//game.gtimg.cn/images/yxzj/img201606/skin/hero-info/513/513-bigskin-2.jpg",text:"修竹墨客"},{src:"https://pic1.zhimg.com/80/v2-9725ecbdb788e07f815ba83f9cd952c9_720w.jpg?source=1940ef5c",text:"天狼绘梦者"},{src:"//game.gtimg.cn/images/yxzj/img201606/skin/hero-info/513/513-bigskin-1.jpg",text:"惊鸿之笔"},{src:"http://5b0988e595225.cdn.sohucs.com/images/20190103/9cdc68128e2c46d583a7e9500e110492.jpeg",text:"惊鸿之笔"},{src:"//game.gtimg.cn/images/yxzj/img201606/skin/hero-info/528/528-bigskin-1.jpg",text:"孤猎"},{src:"https://pic2.52pk.com/files/190419/7913716_103558_1_lit.jpg",text:"瑶妹"},{src:"//game.gtimg.cn/images/yxzj/img201606/skin/hero-info/528/528-bigskin-2.jpg",text:"鲨之猎刃"},{src:"https://pic2.52pk.com/files/190419/7913716_103610_1_lit.jpg",text:"瑶妹"},{src:"//game.gtimg.cn/images/yxzj/img201606/skin/hero-info/531/531-bigskin-1.jpg",text:"破镜之刃"},{src:"https://up.enterdesk.com/edpic/09/27/bb/0927bb0c7831705c2123d5f481f7761b.jpg",text:"露娜紫霞仙子"},{src:"//game.gtimg.cn/images/yxzj/img201606/skin/hero-info/531/531-bigskin-2.jpg",text:"冰刃幻境"},{src:"http://pic1.win4000.com/wallpaper/2020-04-29/5ea8dffa4caa4.jpg",text:"瑶妹"},{src:"//game.gtimg.cn/images/yxzj/img201606/skin/hero-info/531/531-bigskin-3.jpg",text:"炽阳神光"},{src:"//game.gtimg.cn/images/yxzj/img201606/skin/hero-info/518/518-bigskin-3.jpg",text:"神威"},{src:"https://up.enterdesk.com/edpic/d6/be/a7/d6bea7953a832383937b5a95cb21bacb.jpg",text:"街头霸王"},{src:"//game.gtimg.cn/images/yxzj/img201606/skin/hero-info/518/518-bigskin-2.jpg",text:"幸存者"},{src:"https://up.enterdesk.com/edpic/80/e7/28/80e7287dfc378f23cd495bb2090d651f.jpg",text:"白龙吟"},{src:"//game.gtimg.cn/images/yxzj/img201606/skin/hero-info/518/518-bigskin-1.jpg",text:"冷晖之枪"},{src:"https://up.enterdesk.com/edpic/c1/45/fc/c145fcb10e8ac99dd2cd94d686b602ee.jpg",text:"宫本武藏地狱之眼"},{src:"//game.gtimg.cn/images/yxzj/img201606/skin/hero-info/125/125-bigskin-3.jpg",text:"云间偶戏"},{src:"https://up.enterdesk.com/edpic/f8/ea/79/f8ea79b40880e7b2eeeb31b81ff039f9.jpg",text:"蔡文姬天籁弦音"},{src:"//game.gtimg.cn/images/yxzj/img201606/skin/hero-info/125/125-bigskin-2.jpg",text:"午夜歌剧院"},{src:"https://up.enterdesk.com/edpic/40/b9/97/40b9978e4df887e6e464523f642e264f.jpg",text:"高渐离嘻哈天王"},{src:"//game.gtimg.cn/images/yxzj/img201606/skin/hero-info/125/125-bigskin-1.jpg",text:"无间傀儡"},{src:"https://up.enterdesk.com/edpic/18/63/5d/18635de8c11372bb3f3820c4b5266c39.jpeg",text:"王昭君我是歌手"},{src:"//game.gtimg.cn/images/yxzj/img201606/skin/hero-info/150/150-bigskin-6.jpg",text:"飞衡"},{src:"https://up.enterdesk.com/edpic/6b/69/79/6b697973ae361d27924885dc00b507b8.jpeg",text:"赵云白执事"},{src:"//game.gtimg.cn/images/yxzj/img201606/skin/hero-info/150/150-bigskin-5.jpg",text:"逐梦之影"},{src:"https://up.enterdesk.com/edpic/79/34/a5/7934a552d1152c99554ab31ab7b2bc1d.jpg",text:"孙膑未来之旅"},{src:"//game.gtimg.cn/images/yxzj/img201606/skin/hero-info/150/150-bigskin-4.jpg",text:"白龙吟"},{src:"https://up.enterdesk.com/edpic/20/0e/86/200e863afeadfb9a17620997651046eb.jpeg",text:"成吉思汗苍狼末裔"},{src:"//game.gtimg.cn/images/yxzj/img201606/skin/hero-info/150/150-bigskin-3.jpg",text:"教廷特使"},{src:"https://up.enterdesk.com/edpic/a3/a0/2c/a3a02c9814cae45f190bbee1db811da1.jpg",text:"兰陵王刺客信条"},{src:"//game.gtimg.cn/images/yxzj/img201606/skin/hero-info/150/150-bigskin-2.jpg",text:"街头霸王"},{src:"https://up.enterdesk.com/edpic/8c/ec/73/8cec7372c5415d24d3a76a58fce0288a.jpg",text:"白起最终兵器"},{src:"//game.gtimg.cn/images/yxzj/img201606/skin/hero-info/150/150-bigskin-1.jpg",text:"国士无双"},{src:"//game.gtimg.cn/images/yxzj/img201606/skin/hero-info/196/196-bigskin-4.jpg",text:"朱雀志"},{src:"https://up.enterdesk.com/edpic/3e/e4/4e/3ee44e9f9c0fb551a31ff899e6ae829a.jpeg",text:"花木兰传说之刃皮肤"},{src:"//game.gtimg.cn/images/yxzj/img201606/skin/hero-info/196/196-bigskin-3.jpg",text:"特工魅影"},{src:"https://up.enterdesk.com/edpic/e0/dc/42/e0dc420df3f31fc1d045b9f26525e4b5.jpeg",text:"孙尚香蔷薇玫瑰皮肤"},{src:"//game.gtimg.cn/images/yxzj/img201606/skin/hero-info/196/196-bigskin-2.jpg",text:"绝影神枪"},{src:"https://up.enterdesk.com/edpic/0b/79/c3/0b79c31bbf32d0b41d35d83d2084d562.jpg",text:"达摩拳皇"},{src:"//game.gtimg.cn/images/yxzj/img201606/skin/hero-info/196/196-bigskin-1.jpg",text:"静谧之眼"},{src:"https://up.enterdesk.com/edpic/be/d5/3b/bed53b6e2732f0131e318f100007b29b.jpg",text:"扁鹊红莲之瞳"},{src:"//game.gtimg.cn/images/yxzj/img201606/skin/hero-info/163/163-bigskin-2.jpg",text:"修罗"}],C=A,W=window.innerWidth>window.innerHeight,R={name:"vue-waterfall-rapid",components:{waterfall:z},data:function(){return{width:100,range:100,autoResize:!0,col:0,fillBox:!1,colWidth:(W?window.innerHeight:window.innerWidth)/5.07,mode:0,list:C.slice(0,W?24:18)}},watch:{range:function(e){this.width=30+.7*e},fillBox:function(){this.repaints(0,.4)}},mounted:function(){var e=this;this.$refs.waterfall.onRender=function(e){console.log("渲染完毕",e)};var t=18;setTimeout((function(){setInterval((function(){if(t++,!(t>51)){console.log(t);var i=C[t%C.length];e.list.push(i)}}),50)}),1e3)},methods:{add:function(){var e=C[parseInt(Math.random()*C.length)];this.list.push(e)},modeFun:function(){this.mode=!this.mode,this.col=this.mode?3:0,this.repaints(0,.4)},repaints:function(){this.$refs.waterfall.repaints(0,.4)},scroll:function(e){}}},T=R,B=(i("21bb"),Object(o["a"])(T,m,f,!1,null,null,null)),O=B.exports;r["a"].use(u["a"]);var $=[{path:"/",name:"Home",component:O}],H=new u["a"]({routes:$}),I=H;r["a"].config.productionTip=!1,new r["a"]({router:I,render:function(e){return e(g)}}).$mount("#app")}});
//# sourceMappingURL=app.15e8153e.js.map